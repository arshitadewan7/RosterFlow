<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RosterFlow</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="responsive.css">

  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>

  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: radial-gradient(circle at top right, #f8eaff, #ffe8f0, #e7f7ff);
      font-family: "Poppins", sans-serif;
      transition: opacity 1s ease;
    }
    body.fade-out {
      opacity: 0;
    }

    canvas#bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    .overlay {
      position: fixed;
      inset: 0;
      z-index: 10;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      pointer-events: none;
      backdrop-filter: blur(4px);
      animation: fadeIn 2s ease-out;
    }

    .overlay img {
      width: 420px;
      height: auto;
      animation: float 3s ease-in-out infinite alternate;
      pointer-events: none;
      filter: drop-shadow(0 0 25px rgba(200, 182, 255, 0.6))
              drop-shadow(0 0 45px rgba(255, 183, 197, 0.4));
      transition: transform 0.3s ease, filter 0.3s ease;
    }

    .overlay img:hover {
      transform: scale(1.05);
      filter: drop-shadow(0 0 35px rgba(200, 182, 255, 0.8))
              drop-shadow(0 0 55px rgba(255, 183, 197, 0.6));
    }

    .overlay button {
      pointer-events: auto;
      margin-top: 60px;
      padding: 16px 50px;
      border: none;
      border-radius: 60px;
      font-size: 1.2em;
      font-weight: 600;
      background: linear-gradient(90deg, #ffb7c5, #c8b6ff, #a0e7e5);
      color: #2a2a2a;
      cursor: pointer;
      box-shadow: 0 0 35px rgba(255, 200, 230, 0.5);
      transition: all 0.3s ease;
    }

    .overlay button:hover {
      transform: scale(1.08);
      box-shadow: 0 0 50px rgba(255, 170, 210, 0.8);
    }

    @keyframes float {
      from { transform: translateY(0px); }
      to { transform: translateY(-10px); }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.97); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>

<body>
  <canvas id="bg"></canvas>

  <div class="overlay">
    <img src="assets/rosterflow-logo.svg" alt="RosterFlow Logo" />
    <button id="getStarted">Get Started</button>
  </div>

  <script>
    // === 3D BACKGROUND ===
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    document.body.appendChild(renderer.domElement);
    document.getElementById('bg').replaceWith(renderer.domElement);

    // Camera
    camera.position.z = 14;

    // Lights
    const ambient = new THREE.AmbientLight(0xffffff, 1);
    const pinkLight = new THREE.PointLight(0xffb7c5, 1.2);
    pinkLight.position.set(-5, 3, 5);
    const mintLight = new THREE.PointLight(0xa0e7e5, 1.0);
    mintLight.position.set(5, -3, 4);
    scene.add(ambient, pinkLight, mintLight);

    // Particles
    const geometry = new THREE.BufferGeometry();
    const count = 3000;
    const positions = new Float32Array(count * 3);
    for (let i = 0; i < count * 3; i++) positions[i] = (Math.random() - 0.5) * 40;
    geometry.setAttribute("position", new THREE.BufferAttribute(positions, 3));
    const material = new THREE.PointsMaterial({ color: 0xd4b5ff, size: 0.07, opacity: 0.7, transparent: true });
    const particles = new THREE.Points(geometry, material);
    scene.add(particles);

    // Glowing Ring
    const ringGeo = new THREE.TorusGeometry(5, 0.15, 30, 200);
    const ringMat = new THREE.MeshStandardMaterial({
      color: 0xd4b5ff,
      emissive: 0xbfa5ff,
      emissiveIntensity: 1.4,
      metalness: 0.8,
      roughness: 0.3
    });
    const ring = new THREE.Mesh(ringGeo, ringMat);
    ring.rotation.x = Math.PI / 2;
    scene.add(ring);

    // Floating Orbs
    const orbGeo = new THREE.SphereGeometry(0.5, 32, 32);
    const orbMat1 = new THREE.MeshStandardMaterial({ color: 0xffc6de, emissive: 0xffb6c1, emissiveIntensity: 0.6 });
    const orbMat2 = new THREE.MeshStandardMaterial({ color: 0xc8b6ff, emissive: 0xc8b6ff, emissiveIntensity: 0.6 });
    const orb1 = new THREE.Mesh(orbGeo, orbMat1);
    const orb2 = new THREE.Mesh(orbGeo, orbMat2);
    orb1.position.set(3, 2, 0);
    orb2.position.set(-3, -2, -1);
    scene.add(orb1, orb2);

    // Parallax mouse motion
    document.addEventListener("mousemove", (e) => {
      const x = (e.clientX / window.innerWidth - 0.5) * 2;
      const y = (e.clientY / window.innerHeight - 0.5) * -2;
      camera.position.x = x * 2;
      camera.position.y = y * 1.5;
    });

    // Animation
    let zooming = false;
    const animate = () => {
      requestAnimationFrame(animate);
      particles.rotation.y += 0.0005;
      ring.rotation.y += 0.002;
      orb1.position.y = Math.sin(Date.now() * 0.001) * 1.5;
      orb2.position.x = Math.cos(Date.now() * 0.001) * 2;
      if (zooming && camera.position.z > 6) camera.position.z -= 0.25;
      renderer.render(scene, camera);
    };
    animate();

    window.addEventListener("resize", () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });

    // === BUTTON CLICK (Guaranteed Working) ===
    document.getElementById("getStarted").addEventListener("click", () => {
      zooming = true;
      document.body.classList.add("fade-out");

      // âœ… Make sure this matches your actual dashboard page
      const nextPage = "dashboard.html"; // or "index.html"
      setTimeout(() => (window.location.href = nextPage), 1200);
    });
  </script>
</body>
</html>
